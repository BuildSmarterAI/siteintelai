{
  "version": "1.3.1",
  "last_updated": "2025-10-06",
  "changelog": "Added retry policies, test URLs, CRS notes, timeout settings, and fallback strategies",
  "config": {
    "default_timeout_ms": 8000,
    "default_retry_attempts": 3,
    "default_retry_delays_ms": [500, 1000, 2000],
    "default_search_radius_ft": 500,
    "urban_search_radius_ft": 2500
  },
  "houston": {
    "water": {
      "name": "HW Water UNPublic (Production)",
      "url": "https://geogimsprod.houstontx.gov/arcgis/rest/services/HW/WaterUNPublic/MapServer/4/query",
      "outFields": ["DIAMETER", "MATERIAL", "OWNER"],
      "geometryType": "esriGeometryPolyline",
      "crs": 2278,
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 500,
      "notes": "Production server - WaterLine layer (4) - EPSG:2278 (Texas South Central)",
      "test_url": "https://geogimsprod.houstontx.gov/arcgis/rest/services/HW/WaterUNPublic/MapServer/4/query?geometry=8687100,33008615&geometryType=esriGeometryPoint&inSR=2278&outSR=2278&spatialRel=esriSpatialRelIntersects&distance=500&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,OWNER&returnGeometry=true&f=json"
    },
    "sewer": {
      "name": "Houston Wastewater Gravity Main (Production)",
      "url": "https://geogimsprod.houstontx.gov/arcgis/rest/services/HW/WastewaterUtilities/MapServer/23/query",
      "outFields": ["DIAMETER", "MATERIAL", "LIFECYCLESTATUS"],
      "geometryType": "esriGeometryPolyline",
      "crs": 2278,
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 300,
      "notes": "Production server - Wastewater Gravity Main layer (23) - EPSG:2278",
      "test_url": "https://geogimsprod.houstontx.gov/arcgis/rest/services/HW/WastewaterUtilities/MapServer/23/query?geometry=8687100,33008615&geometryType=esriGeometryPoint&inSR=2278&outSR=2278&spatialRel=esriSpatialRelIntersects&distance=300&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,LIFECYCLESTATUS&returnGeometry=true&f=json"
    },
    "sewer_force": {
      "name": "Houston Wastewater Force Main (Production)",
      "url": "https://geogimsprod.houstontx.gov/arcgis/rest/services/HW/WastewaterUtilities/MapServer/24/query",
      "outFields": ["DIAMETER", "MATERIAL", "OWNER"],
      "geometryType": "esriGeometryPolyline",
      "crs": 2278,
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 250,
      "notes": "Production server - Wastewater Force Main layer (24) - EPSG:2278",
      "test_url": "https://geogimsprod.houstontx.gov/arcgis/rest/services/HW/WastewaterUtilities/MapServer/24/query?geometry=8687100,33008615&geometryType=esriGeometryPoint&inSR=2278&outSR=2278&spatialRel=esriSpatialRelIntersects&distance=250&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,OWNER&returnGeometry=true&f=json"
    },
    "storm": {
      "name": "Houston Storm Drainage Gravity Mains (Production)",
      "url": "https://mapsop1.houstontx.gov/arcgis/rest/services/TDO/StormDrainageUtilityAssets/FeatureServer/7/query",
      "outFields": ["WIDTH", "HEIGHT", "MATERIAL"],
      "geometryType": "esriGeometryPolyline",
      "crs": 2278,
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 300,
      "notes": "Production FeatureServer - Storm Drainage Gravity Mains layer (7) - EPSG:2278",
      "test_url": "https://mapsop1.houstontx.gov/arcgis/rest/services/TDO/StormDrainageUtilityAssets/FeatureServer/7/query?geometry=8687100,33008615&geometryType=esriGeometryPoint&inSR=2278&outSR=2278&spatialRel=esriSpatialRelIntersects&distance=300&units=esriSRUnit_Foot&outFields=WIDTH,HEIGHT,MATERIAL&returnGeometry=true&f=json"
    }
  },
  "austin": {
    "water": {
      "name": "AWU Waterlines",
      "url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Waterlines/FeatureServer/0/query",
      "outFields": ["DIAMETER", "MATERIAL", "STATUS", "INSTALL_YEAR"],
      "geometryType": "esriGeometryPolyline",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 500,
      "notes": "Reliable ArcGIS Online endpoint",
      "test_url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Waterlines/FeatureServer/0/query?geometry=-97.7431,30.2672&geometryType=esriGeometryPoint&distance=500&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,STATUS,INSTALL_YEAR&f=json"
    },
    "sewer": {
      "name": "AWU Wastewaterlines",
      "url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Wastewaterlines/FeatureServer/0/query",
      "outFields": ["DIAMETER", "MATERIAL", "STATUS", "INSTALL_YEAR"],
      "geometryType": "esriGeometryPolyline",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 500,
      "notes": "Reliable ArcGIS Online endpoint",
      "test_url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Wastewaterlines/FeatureServer/0/query?geometry=-97.7431,30.2672&geometryType=esriGeometryPoint&distance=500&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,STATUS,INSTALL_YEAR&f=json"
    },
    "reclaimed": {
      "name": "AWU Reclaimed Waterlines",
      "url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_ReclaimedWaterlines/FeatureServer/0/query",
      "outFields": ["DIAMETER", "MATERIAL", "STATUS"],
      "geometryType": "esriGeometryPolyline",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 500,
      "notes": "Reliable ArcGIS Online endpoint",
      "test_url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_ReclaimedWaterlines/FeatureServer/0/query?geometry=-97.7431,30.2672&geometryType=esriGeometryPoint&distance=500&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,STATUS&f=json"
    }
  },
  "harris_county_etj": {
    "mud": {
      "name": "Harris County MUD Boundaries",
      "url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/MUD_Boundaries/FeatureServer/0/query",
      "outFields": ["DISTRICT_NA", "DISTRICT_NO", "AGENCY"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 1,
      "retry_delays_ms": [500],
      "notes": "Polygon intersection query",
      "test_url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/MUD_Boundaries/FeatureServer/0/query?geometry=-95.3675,29.7559&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=DISTRICT_NA,DISTRICT_NO,AGENCY&f=json"
    },
    "wcid": {
      "name": "Harris County WCID Boundaries",
      "url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/WCID_Boundaries/FeatureServer/0/query",
      "outFields": ["DISTRICT_NA", "DISTRICT_NO"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 1,
      "retry_delays_ms": [500],
      "notes": "Polygon intersection query",
      "test_url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/WCID_Boundaries/FeatureServer/0/query?geometry=-95.3675,29.7559&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=DISTRICT_NA,DISTRICT_NO&f=json"
    },
    "tirz": {
      "name": "Houston TIRZ Boundaries",
      "url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/TIRZ_Boundaries/FeatureServer/0/query",
      "outFields": ["TIRZ_NUM", "TIRZ_NAME"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 1,
      "retry_delays_ms": [500],
      "notes": "Polygon intersection query",
      "test_url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/TIRZ_Boundaries/FeatureServer/0/query?geometry=-95.3675,29.7559&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=TIRZ_NUM,TIRZ_NAME&f=json"
    }
  },
  "texas_statewide": {
    "tceq": {
      "name": "TCEQ Water Districts Map Viewer",
      "url": "https://www.tceq.texas.gov/gis/iwudview.html",
      "outFields": [],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 0,
      "retry_attempts": 0,
      "retry_delays_ms": [],
      "notes": "Fallback: covers all Texas MUDs, WCIDs, SUDs. Not a REST API, but can be downloaded as shapefiles. Manual lookup only."
    }
  }
}
