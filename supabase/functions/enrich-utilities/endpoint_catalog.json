{
  "version": "2.4.0",
  "last_updated": "2025-11-08",
  "changelog": "2025-11-08: HOUSTON WASTEWATER SERVICE CONSOLIDATION - Updated all sewer endpoints to use consolidated HWWastewaterLineIPS multi-layer service after Houston Water deprecated separate gravity/force main services. Gravity mains now on Layer 3, Force mains on Layer 2, Service lines on Layer 1. Updated field mappings: INSTALL_YEAR→INSERVICEDATE (epoch ms), STATUS→LIFECYCLESTATUS, service line DIAMETER→SIZECD. Changed CRS from 4326 to 2278 (native) with outSR=4326 for coordinate transformation. PREVIOUS: CRITICAL STABILITY FIXES - Fixed ReferenceError: application_id crash, increased storm drain search radius to 500ft, added resilient error handling for partial data returns. STORM DRAIN OPTIMIZATION - Added FACILITYID/PIPEID, INSTALL_YEAR, CONDITION fields with EPSG:2278 CRS.",
  "config": {
    "default_timeout_ms": 8000,
    "default_retry_attempts": 3,
    "default_retry_delays_ms": [500, 1000, 2000],
    "default_search_radius_ft": 500,
    "urban_cities": ["Houston", "Dallas", "Austin", "San Antonio"],
    "urban_search_radius_multiplier": 1.6
  },
  "houston": {
    "parcels_unified": {
      "name": "Houston Region Unified Parcels (HCAD, FBCAD, MCAD)",
      "url": "https://geogimsms.houstontx.gov/arcgis/rest/services/CIP/RealEstate/MapServer/7/query",
      "outFields": ["LOWPARCELID", "owner_name_1", "acreage_1", "site_county", "site_str_num", "site_str_name", "site_city", "site_zip"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "spatialRel": "esriSpatialRelWithin",
      "notes": "Layer 7 = Unified Parcels combining Harris (HCAD), Fort Bend (FBCAD), and Montgomery (MCAD) counties. Fallback parcel source when county-specific CAD endpoints are unavailable.",
      "test_url": "https://geogimsms.houstontx.gov/arcgis/rest/services/CIP/RealEstate/MapServer/7/query?geometry=-95.3632144,29.7555266&geometryType=esriGeometryPoint&inSR=4326&outSR=4326&spatialRel=esriSpatialRelWithin&outFields=LOWPARCELID,owner_name_1,acreage_1,site_county&returnGeometry=true&f=json",
      "last_validated": "2025-11-08"
    },
    "water": {
      "name": "COH Water Distribution Mains (ArcGIS Online)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWaterLineIPS/MapServer/3/query",
      "outFields": ["*"],
      "geometryType": "esriGeometryPoint",
      "crs": 4326,
      "timeout_ms": 20000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 1000,
      "urban_search_radius_ft": 1000,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 3 = Water Distribution Mains. Using WGS84 (4326) for direct coordinate matching. Increased timeout for slow GIS server.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWaterLineIPS/MapServer/3/query?geometry=-95.3570979,29.7385701&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=1000&units=esriSRUnit_Foot&outFields=*&returnGeometry=true&f=json",
      "last_validated": "2025-10-15"
    },
    "water_laterals": {
      "name": "COH Water Lateral Service Lines (ArcGIS Online)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWaterLineIPS/MapServer/0/query",
      "outFields": ["DIAMETER", "MATERIAL", "INSTALL_DATE", "SUBTYPECD", "OWNER"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 100,
      "urban_search_radius_ft": 100,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 0 = Water Lateral Service Lines. Shows existing service connections to properties. Small search radius (100 ft) for property-specific detection.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWaterLineIPS/MapServer/0/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=100&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,INSTALL_DATE,SUBTYPECD,OWNER&f=json",
      "last_validated": "2025-10-15"
    },
    "water_fittings": {
      "name": "COH Water Fittings (Valves, Hydrants, Meters)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWaterLineIPS/MapServer/1/query",
      "outFields": ["FITTING_TYPE", "DIAMETER", "MATERIAL", "INSTALL_DATE", "STATUS", "OWNER", "SUBTYPECD"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 200,
      "urban_search_radius_ft": 200,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 1 = Water Fittings (valves, hydrants, tees, meters). Used for service connection verification and infrastructure density analysis. 200 ft radius for nearby fitting detection.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWaterLineIPS/MapServer/1/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=200&units=esriSRUnit_Foot&outFields=FITTING_TYPE,DIAMETER,MATERIAL,INSTALL_DATE,STATUS,OWNER,SUBTYPECD&f=json",
      "last_validated": "2025-10-15"
    },
    "address_points": {
      "name": "COH Address Points (ArcGIS Online)",
      "url": "https://services.arcgis.com/04HiymDgLlsbhaV4/ArcGIS/rest/services/COH_ADDRESS_POINT/FeatureServer/0/query",
      "outFields": ["STREET_NUM", "STREET_NAME", "CITY", "ZIPCODE", "STATUS", "TYPES"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 50,
      "urban_search_radius_ft": 50,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 0 = Address Points. Used for address validation and geocoding verification. Very small search radius (50 ft) for precise address matching.",
      "test_url": "https://services.arcgis.com/04HiymDgLlsbhaV4/ArcGIS/rest/services/COH_ADDRESS_POINT/FeatureServer/0/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=50&units=esriSRUnit_Foot&outFields=STREET_NUM,STREET_NAME,CITY,ZIPCODE,STATUS,TYPES&f=json",
      "last_validated": "2025-10-15"
    },
    "sewer": {
      "name": "Houston Sewer Gravity Mains (HWWastewaterLineIPS Layer 3)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWastewaterLineIPS/MapServer/3/query",
      "outFields": ["FACILITYID", "DIAMETER", "MATERIAL", "INSERVICEDATE", "OWNER", "LIFECYCLESTATUS"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 1000,
      "urban_search_radius_ft": 500,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 3 = Gravity Mains from consolidated HWWastewaterLineIPS service. Uses INSERVICEDATE (epoch ms) instead of INSTALL_YEAR. Uses LIFECYCLESTATUS instead of STATUS. Native CRS: EPSG:2278.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWastewaterLineIPS/MapServer/3/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&outSR=4326&spatialRel=esriSpatialRelIntersects&distance=500&units=esriSRUnit_Foot&outFields=FACILITYID,DIAMETER,MATERIAL,INSERVICEDATE,OWNER,LIFECYCLESTATUS&returnGeometry=true&f=json",
      "last_validated": "2025-11-08"
    },
    "sewer_force": {
      "name": "Houston Sewer Force Mains (HWWastewaterLineIPS Layer 2)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWastewaterLineIPS/MapServer/2/query",
      "outFields": ["FACILITYID", "DIAMETER", "MATERIAL", "INSERVICEDATE", "OWNER", "LIFECYCLESTATUS"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 1000,
      "urban_search_radius_ft": 500,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 2 = Force Mains (pressurized) from consolidated HWWastewaterLineIPS service. Uses INSERVICEDATE (epoch ms) instead of INSTALL_YEAR. Uses LIFECYCLESTATUS instead of STATUS. Native CRS: EPSG:2278.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWastewaterLineIPS/MapServer/2/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&outSR=4326&spatialRel=esriSpatialRelIntersects&distance=1000&units=esriSRUnit_Foot&outFields=FACILITYID,DIAMETER,MATERIAL,INSERVICEDATE,OWNER,LIFECYCLESTATUS&returnGeometry=true&f=json",
      "last_validated": "2025-11-08"
    },
    "storm": {
      "name": "Houston Storm Drain Lines (HPW IPS)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HPWStormdrainLineIPS/MapServer/0/query",
      "outFields": ["FACILITYID", "PIPEID", "DIAMETER", "MATERIAL", "INSTALL_YEAR", "INSTALLDATE", "OWNER", "STATUS", "CONDITION", "ENABLED"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 500,
      "urban_search_radius_ft": 500,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 0 = Storm Drain Lines (polylines) from Houston Water Infrastructure & Planning System. Contains pipe diameter, material, install year, and condition. Native CRS: EPSG:2278. Increased to 500 ft search radius for better coverage (2025-11-08). Migrated from mapsop1.houstontx.gov 2025-11-07.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HPWStormdrainLineIPS/MapServer/0/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=500&units=esriSRUnit_Foot&outFields=FACILITYID,PIPEID,DIAMETER,MATERIAL,INSTALL_YEAR,INSTALLDATE,OWNER,STATUS,CONDITION,ENABLED&returnGeometry=true&f=json",
      "last_validated": "2025-11-08"
    },
    "storm_manholes": {
      "name": "Houston Storm Drain Structures (Manholes & Inlets)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HPWStormdrainStructureIPS/MapServer/0/query",
      "outFields": ["FACILITYID", "DIAMETER", "RIM_ELEVATION", "INVERT_ELEVATION", "MATERIAL", "OWNER", "STATUS"],
      "geometryType": "esriGeometryPoint",
      "crs": 4326,
      "timeout_ms": 10000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 500,
      "urban_search_radius_ft": 300,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 0 = Storm Structures from Houston Water IPS. Includes manholes, inlets, and all drainage structures with elevation/depth data. Uses official Infrastructure & Planning System architecture.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HPWStormdrainStructureIPS/MapServer/0/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=500&units=esriSRUnit_Foot&outFields=FACILITYID,DIAMETER,RIM_ELEVATION,INVERT_ELEVATION,MATERIAL,OWNER,STATUS&returnGeometry=true&f=json",
      "last_validated": "2025-11-08"
    },
    "sewer_service": {
      "name": "Houston Wastewater Service Lines (HWWastewaterLineIPS Layer 1)",
      "url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWastewaterLineIPS/MapServer/1/query",
      "outFields": ["SUBDIVISIONNAME", "SIZECD", "MATERIAL", "INSTALLDATE", "LIFECYCLESTATUS", "OWNER", "ENABLED"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 300,
      "urban_search_radius_ft": 300,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Layer 1 = Service Lines from consolidated HWWastewaterLineIPS service. Uses SIZECD for diameter, LIFECYCLESTATUS for status. Native CRS: EPSG:2278.",
      "test_url": "https://houstonwatergis.org/arcgis/rest/services/INFORHW/HWWastewaterLineIPS/MapServer/1/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&outSR=4326&spatialRel=esriSpatialRelIntersects&distance=300&units=esriSRUnit_Foot&outFields=SUBDIVISIONNAME,SIZECD,MATERIAL,INSTALLDATE,LIFECYCLESTATUS,OWNER,ENABLED&returnGeometry=true&f=json",
      "last_validated": "2025-11-08"
    },
    "traffic": {
      "name": "COH Traffic Counts (DISABLED - Endpoint Unavailable)",
      "url": "",
      "outFields": [],
      "geometryType": "esriGeometryPoint",
      "crs": 4326,
      "timeout_ms": 8000,
      "retry_attempts": 0,
      "retry_delays_ms": [],
      "search_radius_ft": 250,
      "enabled": false,
      "notes": "DISABLED 2025-10-15: Houston Traffic Counts endpoint no longer available. Dataset moved or removed from City of Houston GeoHub. OSM highway tags will be used as fallback.",
      "test_url": "",
      "last_validated": "2025-10-15"
    },
    "parcels_hcad": {
      "name": "HCAD Parcel Boundaries (Official Tax Records)",
      "url": "https://www.gis.hctx.net/arcgis/rest/services/HCAD/Parcels/MapServer/0/query",
      "outFields": ["LOWPARCELI", "HCAD_NUM", "CurrOwner", "LocAddr", "city", "zip", "parcel_typ", "StatedArea", "mill_cd", "Tax_Year", "Mail_State"],
      "geometryType": "esriGeometryPolygon",
      "crs": 2278,
      "timeout_ms": 10000,
      "retry_attempts": 3,
      "retry_delays_ms": [1000, 2000, 4000],
      "search_radius_ft": 0,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Point-in-polygon query for official HCAD parcel boundaries. Returns exact parcel geometry, ownership, and tax data. Critical for property boundary verification.",
      "test_url": "https://www.gis.hctx.net/arcgis/rest/services/HCAD/Parcels/MapServer/0/query?geometry=-95.452118,29.741815&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&outFields=LOWPARCELI,HCAD_NUM,CurrOwner,LocAddr,city,zip,parcel_typ,StatedArea,mill_cd,Tax_Year,Mail_State&returnGeometry=true&f=json",
      "last_validated": "2025-10-15"
    }
  },
  "austin": {
    "water": {
      "name": "AWU Waterlines",
      "url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Waterlines/FeatureServer/0/query",
      "outFields": ["DIAMETER", "MATERIAL", "STATUS", "INSTALL_YEAR"],
      "geometryType": "esriGeometryPolyline",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 500,
      "notes": "Reliable ArcGIS Online endpoint",
      "test_url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Waterlines/FeatureServer/0/query?geometry=-97.7431,30.2672&geometryType=esriGeometryPoint&distance=500&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,STATUS,INSTALL_YEAR&f=json"
    },
    "sewer": {
      "name": "AWU Wastewaterlines",
      "url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Wastewaterlines/FeatureServer/0/query",
      "outFields": ["DIAMETER", "MATERIAL", "STATUS", "INSTALL_YEAR"],
      "geometryType": "esriGeometryPolyline",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 500,
      "notes": "Reliable ArcGIS Online endpoint",
      "test_url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_Wastewaterlines/FeatureServer/0/query?geometry=-97.7431,30.2672&geometryType=esriGeometryPoint&distance=500&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,STATUS,INSTALL_YEAR&f=json"
    },
    "reclaimed": {
      "name": "AWU Reclaimed Waterlines",
      "url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_ReclaimedWaterlines/FeatureServer/0/query",
      "outFields": ["DIAMETER", "MATERIAL", "STATUS"],
      "geometryType": "esriGeometryPolyline",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 3,
      "retry_delays_ms": [500, 1000, 2000],
      "search_radius_ft": 500,
      "notes": "Reliable ArcGIS Online endpoint",
      "test_url": "https://services.arcgis.com/0L95CJ0VTaxqcmED/arcgis/rest/services/AWU_ReclaimedWaterlines/FeatureServer/0/query?geometry=-97.7431,30.2672&geometryType=esriGeometryPoint&distance=500&units=esriSRUnit_Foot&outFields=DIAMETER,MATERIAL,STATUS&f=json"
    }
  },
  "harris_county_etj": {
    "mud": {
      "name": "Harris County MUD Boundaries",
      "url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/MUD_Boundaries/FeatureServer/0/query",
      "outFields": ["DISTRICT_NA", "DISTRICT_NO", "AGENCY"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 1,
      "retry_delays_ms": [500],
      "notes": "Polygon intersection query",
      "test_url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/MUD_Boundaries/FeatureServer/0/query?geometry=-95.3675,29.7559&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=DISTRICT_NA,DISTRICT_NO,AGENCY&f=json"
    },
    "wcid": {
      "name": "Harris County WCID Boundaries",
      "url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/WCID_Boundaries/FeatureServer/0/query",
      "outFields": ["DISTRICT_NA", "DISTRICT_NO"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 1,
      "retry_delays_ms": [500],
      "notes": "Polygon intersection query",
      "test_url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/WCID_Boundaries/FeatureServer/0/query?geometry=-95.3675,29.7559&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=DISTRICT_NA,DISTRICT_NO&f=json"
    },
    "tirz": {
      "name": "Houston TIRZ Boundaries",
      "url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/TIRZ_Boundaries/FeatureServer/0/query",
      "outFields": ["TIRZ_NUM", "TIRZ_NAME"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 8000,
      "retry_attempts": 1,
      "retry_delays_ms": [500],
      "notes": "Polygon intersection query",
      "test_url": "https://services.arcgis.com/KTcxiTD9dsQwVSFh/arcgis/rest/services/TIRZ_Boundaries/FeatureServer/0/query?geometry=-95.3675,29.7559&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=TIRZ_NUM,TIRZ_NAME&f=json"
    }
  },
  "montgomery_county_etj": {
    "mud": {
      "name": "Montgomery County MUD Boundaries",
      "url": "https://services1.arcgis.com/qPpojf7hG0a7q21B/arcgis/rest/services/Montgomery_County_MUD_Boundaries/FeatureServer/0/query",
      "outFields": ["NAME", "DISTRICT_NUMBER", "TYPE", "STATUS"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 10000,
      "retry_attempts": 2,
      "retry_delays_ms": [500, 1000],
      "notes": "Covers The Woodlands, Spring, Conroe area MUDs",
      "test_url": "https://services1.arcgis.com/qPpojf7hG0a7q21B/arcgis/rest/services/Montgomery_County_MUD_Boundaries/FeatureServer/0/query?geometry=-95.4891,30.1658&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=NAME,DISTRICT_NUMBER,TYPE,STATUS&f=json",
      "last_validated": "2025-12-15"
    },
    "wcid": {
      "name": "Montgomery County WCID Boundaries",
      "url": "https://services1.arcgis.com/qPpojf7hG0a7q21B/arcgis/rest/services/Montgomery_County_WCID_Boundaries/FeatureServer/0/query",
      "outFields": ["NAME", "DISTRICT_NUMBER", "STATUS"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 10000,
      "retry_attempts": 2,
      "retry_delays_ms": [500, 1000],
      "notes": "Water Control and Improvement Districts in Montgomery County",
      "test_url": "https://services1.arcgis.com/qPpojf7hG0a7q21B/arcgis/rest/services/Montgomery_County_WCID_Boundaries/FeatureServer/0/query?geometry=-95.4891,30.1658&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=NAME,DISTRICT_NUMBER,STATUS&f=json",
      "last_validated": "2025-12-15"
    }
  },
  "fort_bend_county_etj": {
    "mud": {
      "name": "Fort Bend County MUD Boundaries",
      "url": "https://gis.fbcad.org/arcgis/rest/services/Public/MUD_Boundaries/FeatureServer/0/query",
      "outFields": ["NAME", "MUD_NO", "STATUS"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 10000,
      "retry_attempts": 2,
      "retry_delays_ms": [500, 1000],
      "notes": "Fort Bend County MUD boundaries. Covers Sugar Land, Missouri City, Katy area.",
      "test_url": "https://gis.fbcad.org/arcgis/rest/services/Public/MUD_Boundaries/FeatureServer/0/query?geometry=-95.6349,29.6197&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=NAME,MUD_NO,STATUS&f=json",
      "last_validated": "2025-12-15"
    },
    "wcid": {
      "name": "Fort Bend County WCID Boundaries",
      "url": "https://gis.fbcad.org/arcgis/rest/services/Public/WCID_Boundaries/FeatureServer/0/query",
      "outFields": ["NAME", "WCID_NO", "STATUS"],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 10000,
      "retry_attempts": 2,
      "retry_delays_ms": [500, 1000],
      "notes": "Fort Bend County WCID boundaries",
      "test_url": "https://gis.fbcad.org/arcgis/rest/services/Public/WCID_Boundaries/FeatureServer/0/query?geometry=-95.6349,29.6197&geometryType=esriGeometryPoint&spatialRel=esriSpatialRelIntersects&outFields=NAME,WCID_NO,STATUS&f=json",
      "last_validated": "2025-12-15"
    }
  },
  "harris_county": {
    "hcfcd_channels": {
      "name": "HCFCD Storm Drainage Channels (Countywide)",
      "url": "https://www.gis.hctx.net/arcgishcpid/rest/services/HCFCD/Channels/MapServer/0/query",
      "outFields": ["UNIT_NO", "CHAN_NAME", "MAINT_RESP", "LENGTH_FT", "TYPE", "PREC_NO"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 1000,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Harris County Flood Control District drainage channels. Covers entire Harris County including ETJ areas. Unit numbers like 'J126' identify channels. CORRECT SERVICE: HCFCD/Channels/MapServer/0",
      "test_url": "https://www.gis.hctx.net/arcgishcpid/rest/services/HCFCD/Channels/MapServer/0/query?geometry=-95.4175,30.0783&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=1000&units=esriSRUnit_Foot&outFields=UNIT_NO,CHAN_NAME,MAINT_RESP,LENGTH_FT,TYPE,PREC_NO&returnGeometry=true&f=json",
      "last_validated": "2025-12-15"
    },
    "hcfcd_outfalls": {
      "name": "HCFCD Major Outfalls (Countywide)",
      "url": "https://www.gis.hctx.net/arcgishcpid/rest/services/HCFCD/Major_Outfalls/MapServer/0/query",
      "outFields": ["OUTFALL_ID", "UNIT_NO", "OUTFALL_TYPE", "DIAMETER", "MATERIAL"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 12000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 500,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "HCFCD major stormwater outfalls (points). Used for drainage connectivity analysis. CORRECT SERVICE: HCFCD/Major_Outfalls/MapServer/0",
      "test_url": "https://www.gis.hctx.net/arcgishcpid/rest/services/HCFCD/Major_Outfalls/MapServer/0/query?geometry=-95.4175,30.0783&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=500&units=esriSRUnit_Foot&outFields=OUTFALL_ID,UNIT_NO,OUTFALL_TYPE,DIAMETER,MATERIAL&returnGeometry=true&f=json",
      "last_validated": "2025-12-15"
    },
    "hcfcd_detention": {
      "name": "HCFCD Detention Basins (Countywide)",
      "url": "https://www.gis.hctx.net/arcgishcpid/rest/services/HCFCD/Detention_Basins/MapServer/0/query",
      "outFields": ["BASIN_NAME", "UNIT_NO", "STORAGE_AF", "STATUS", "MAINT_RESP"],
      "geometryType": "esriGeometryPoint",
      "crs": 2278,
      "timeout_ms": 12000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "search_radius_ft": 2640,
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "HCFCD regional detention basins. Half-mile search radius for drainage impact analysis. CORRECT SERVICE: HCFCD/Detention_Basins/MapServer/0",
      "test_url": "https://www.gis.hctx.net/arcgishcpid/rest/services/HCFCD/Detention_Basins/MapServer/0/query?geometry=-95.4175,30.0783&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&distance=2640&units=esriSRUnit_Foot&outFields=BASIN_NAME,UNIT_NO,STORAGE_AF,STATUS,MAINT_RESP&returnGeometry=true&f=json",
      "last_validated": "2025-12-15"
    }
  },
  "texas_statewide": {
    "puc_ccn_water_areas": {
      "name": "PUC CCN Water Service Areas (Texas Statewide)",
      "url": "https://www.gis.hctx.net/arcgishcpid/rest/services/State/PUC_CCN_Sewer_Water/MapServer/1/query",
      "outFields": ["CCN_NAME", "CCN_NO", "UTILITY_TYPE", "STATUS"],
      "geometryType": "esriGeometryPoint",
      "crs": 4326,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Texas PUC Certificate of Convenience and Necessity water service areas. Authoritative source for water utility jurisdiction.",
      "test_url": "https://www.gis.hctx.net/arcgishcpid/rest/services/State/PUC_CCN_Sewer_Water/MapServer/1/query?geometry=-95.4175,30.0783&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&outFields=CCN_NAME,CCN_NO,UTILITY_TYPE,STATUS&returnGeometry=false&f=json",
      "last_validated": "2025-12-15"
    },
    "puc_ccn_sewer_areas": {
      "name": "PUC CCN Sewer Service Areas (Texas Statewide)",
      "url": "https://www.gis.hctx.net/arcgishcpid/rest/services/State/PUC_CCN_Sewer_Water/MapServer/2/query",
      "outFields": ["CCN_NAME", "CCN_NO", "UTILITY_TYPE", "STATUS"],
      "geometryType": "esriGeometryPoint",
      "crs": 4326,
      "timeout_ms": 15000,
      "retry_attempts": 2,
      "retry_delays_ms": [1000, 2000],
      "spatialRel": "esriSpatialRelIntersects",
      "notes": "Texas PUC Certificate of Convenience and Necessity sewer service areas. Authoritative source for sewer utility jurisdiction.",
      "test_url": "https://www.gis.hctx.net/arcgishcpid/rest/services/State/PUC_CCN_Sewer_Water/MapServer/2/query?geometry=-95.4175,30.0783&geometryType=esriGeometryPoint&inSR=4326&spatialRel=esriSpatialRelIntersects&outFields=CCN_NAME,CCN_NO,UTILITY_TYPE,STATUS&returnGeometry=false&f=json",
      "last_validated": "2025-12-15"
    },
    "tceq": {
      "name": "TCEQ Water Districts Map Viewer",
      "url": "https://www.tceq.texas.gov/gis/iwudview.html",
      "outFields": [],
      "geometryType": "esriGeometryPolygon",
      "crs": "EPSG:4326",
      "timeout_ms": 0,
      "retry_attempts": 0,
      "retry_delays_ms": [],
      "notes": "Fallback: covers all Texas MUDs, WCIDs, SUDs. Not a REST API, but can be downloaded as shapefiles. Manual lookup only."
    }
  }
}
